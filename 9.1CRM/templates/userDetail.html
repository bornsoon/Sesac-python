{% extends "base.html" %}
{% block title %}Main[User Detail]{% endblock %}

{% block style %}
<style>
    tr * {
        padding: 10px;
    }
    #div1 {
        display: flex;
        justify-content: space-around;
    }
    li {
        text-align: left;
        margin: 13px;
    }
</style>
{% endblock %}

{% block content %}

<div style="padding:10px;">
    고객 정보
</div>
<table>
    <tr>
        {% for key in keys %}
        <th> {{ key }} </th>
        {% endfor %}
    </tr>
    <tr>
        {% for u in user %}
        <td> {{ u }} </td>
        {% endfor %}
    </tr>        
</table>
<br>
<div style="padding:10px;">
    주문 정보
</div>
<div style="overflow: auto; max-height: 35vh">
    <table>
        <tr>
            <th> Order Id </th>
            <th> Purchased Date </th>
            <th> Purchased Store </th>
        </tr>
        {% for o in orders %}
        <tr>
            <td> {{ o.id }} </td>
            <td> {{ o.orderAt }} </td>
            <td class="pointer" onclick="location.href='/storeDetail/{{ o.storeId }}'"> {{ o.name }} </td>
        </tr>
        {% endfor %}        
    </table>
</div>

<div id="div1" style="color: rgb(99, 96, 93); margin: 10px;">
    <div>
        <h2>자주 방문한 매장 Top5</h2>
        <ol>
            {% for i in topStores %}
            <li> {{ i.name }} ({{ i.count }}번 방문) </li>
            {% endfor %}
        </ol>
    </div>
    <div>
        <h2>자주 주문한 상품 Top5</h2>
        <ol>
            {% for i in topItems %}
            <li> {{ i.item }}  ({{ i.count }}번 구매) </li>
            {% endfor %}
        </ol>
    </div>
</div>
{% endblock %}